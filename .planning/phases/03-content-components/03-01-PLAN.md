---
phase: 03-content-components
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - web_frontend/src/components/module/VideoEmbed.tsx
  - web_frontend/src/components/module/ArticleEmbed.tsx
autonomous: true

must_haves:
  truths:
    - "Student can watch embedded videos at full width on mobile without horizontal scroll"
    - "Student can read article text with comfortable margins on mobile (not cramped to edges)"
    - "Code blocks wrap text instead of causing horizontal scroll on mobile"
    - "Images display full-width on mobile, breaking out of text margins"
    - "Blockquotes are visually distinct with background color and left border"
  artifacts:
    - path: "web_frontend/src/components/module/VideoEmbed.tsx"
      provides: "Responsive video container"
      contains: "w-full"
    - path: "web_frontend/src/components/module/ArticleEmbed.tsx"
      provides: "Mobile-responsive article with typography enhancements"
      contains: "whitespace-pre-wrap"
  key_links:
    - from: "VideoEmbed.tsx containerClasses"
      to: "Tailwind responsive prefixes"
      via: "sm: breakpoint classes"
      pattern: "sm:max-w"
    - from: "ArticleEmbed.tsx code component"
      to: "CSS wrapping"
      via: "whitespace-pre-wrap class"
      pattern: "whitespace-pre-wrap"
    - from: "ArticleEmbed.tsx img component"
      to: "full-width breakout"
      via: "negative margins with calc"
      pattern: "-mx-4"
---

<objective>
Optimize video and article content display for mobile devices.

Purpose: Students consuming lesson content on phones need videos that fill their screen width and article text with comfortable reading margins. Code blocks must wrap rather than scroll horizontally, and images should break out of margins for visual impact.

Output: VideoEmbed.tsx with responsive container classes, ArticleEmbed.tsx with mobile-first padding and enhanced typography components (code, pre, img, blockquote).
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-content-components/03-CONTEXT.md
@.planning/phases/03-content-components/03-RESEARCH.md

@web_frontend/src/components/module/VideoEmbed.tsx
@web_frontend/src/components/module/ArticleEmbed.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: VideoEmbed responsive container</name>
  <files>web_frontend/src/components/module/VideoEmbed.tsx</files>
  <action>
Update the containerClasses variable to use mobile-first responsive sizing:

1. When inactive (thumbnail state):
   - Mobile: `w-full px-4` (full width with padding)
   - Desktop: `sm:px-0 sm:max-w-content` (restore original max-width)

2. When activated (video playing):
   - Mobile: `w-full` (edge-to-edge for maximum video real estate)
   - Desktop: `sm:w-[90%] sm:max-w-[1100px]` (restore original sizing)

Keep: `mx-auto py-4 scroll-mt-20 transition-all duration-300`

The pattern follows mobile-first: start with mobile styles, add `sm:` prefix for 640px+ overrides.
  </action>
  <verify>
Run `npm run build` in web_frontend/ - TypeScript compilation passes.
Visual: On mobile viewport (DevTools), video should fill screen width. On desktop, video should have constrained max-width.
  </verify>
  <done>
Video container uses full width on mobile (w-full), constrained width on desktop (sm:max-w-content when inactive, sm:max-w-[1100px] when active).
  </done>
</task>

<task type="auto">
  <name>Task 2: ArticleEmbed responsive padding and typography</name>
  <files>web_frontend/src/components/module/ArticleEmbed.tsx</files>
  <action>
Update ArticleEmbed with mobile-responsive styles and enhanced typography:

1. **Responsive container padding:**
   - Change `px-10 py-6` to `px-4 py-4 sm:px-10 sm:py-6`
   - Mobile gets less padding (16px), desktop keeps original (40px)

2. **Add code component to ReactMarkdown components prop:**
```tsx
code: ({ children, className }) => {
  // Inline code (no className) vs code blocks (has className from language)
  const isInline = !className;
  if (isInline) {
    return (
      <code className="bg-gray-100 px-1.5 py-0.5 rounded text-sm font-mono">
        {children}
      </code>
    );
  }
  // Block code - handled by pre wrapper
  return (
    <code className="text-sm font-mono">{children}</code>
  );
},
```

3. **Add pre component for code blocks:**
```tsx
pre: ({ children }) => (
  <pre className="bg-gray-900 text-gray-100 p-4 rounded-lg text-sm overflow-hidden my-4 whitespace-pre-wrap break-words">
    {children}
  </pre>
),
```
Key: `whitespace-pre-wrap break-words overflow-hidden` prevents horizontal scroll.

4. **Add img component for full-width breakout:**
```tsx
img: ({ src, alt }) => (
  <img
    src={src}
    alt={alt || ''}
    className="w-[calc(100%+2rem)] max-w-none -mx-4 my-4 sm:w-full sm:mx-0 sm:rounded-lg"
  />
),
```
Mobile: breaks out of text margins with negative margin. Desktop: normal width with rounded corners.

5. **Update blockquote for visual distinction:**
Change current blockquote from:
`border-l-4 border-gray-300 pl-4 italic my-4`
To:
`bg-blue-50 border-l-4 border-blue-400 pl-4 pr-4 py-3 my-4 rounded-r-lg`
Adds background color and right-side padding/rounding per CONTEXT.md.
  </action>
  <verify>
Run `npm run build` in web_frontend/ - TypeScript compilation passes.
Visual verification in DevTools:
- Article padding is smaller on mobile viewport
- Code blocks wrap long lines instead of horizontal scroll
- Images break out of margins on mobile
- Blockquotes have blue background tint
  </verify>
  <done>
ArticleEmbed has responsive padding (px-4 on mobile, px-10 on desktop), code blocks wrap with whitespace-pre-wrap, images break out of margins on mobile with negative margins, blockquotes have blue background with left border.
  </done>
</task>

</tasks>

<verification>
After both tasks complete:
1. `npm run build` passes in web_frontend/
2. Open DevTools mobile viewport (375px width)
3. Navigate to a lesson page with video and article content
4. Verify: Video fills width, article has comfortable padding, no horizontal scroll on code blocks
</verification>

<success_criteria>
- VideoEmbed container responds to viewport width (full on mobile, constrained on desktop)
- ArticleEmbed padding adjusts responsively (16px mobile, 40px desktop)
- Code blocks never cause horizontal scroll (whitespace-pre-wrap)
- Images break out of text margins on mobile for visual impact
- Blockquotes are visually distinct with background color
- Build passes with no TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/03-content-components/03-01-SUMMARY.md`
</output>
