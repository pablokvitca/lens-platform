---
phase: 01-foundation-typography
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - web_frontend/src/pages/index/+Page.tsx
  - web_frontend/src/components/Layout.tsx
  - web_frontend/src/views/Module.tsx
  - web_frontend/src/pages/_error/+Page.tsx
  - web_frontend/src/views/CourseOverview.tsx
  - web_frontend/src/pages/_spa/+Page.tsx
autonomous: true

must_haves:
  truths:
    - "Full-height elements fill the visible viewport without content hiding behind iOS Safari address bar"
    - "Page layouts adapt smoothly as iOS Safari chrome shows/hides"
  artifacts:
    - path: "web_frontend/src/pages/index/+Page.tsx"
      provides: "Landing page with dvh viewport height"
      contains: "h-dvh"
      must_not_contain: "h-screen"
    - path: "web_frontend/src/components/Layout.tsx"
      provides: "Main layout wrapper with dvh"
      contains: "min-h-dvh"
      must_not_contain: "min-h-screen"
    - path: "web_frontend/src/views/Module.tsx"
      provides: "Module view with dvh"
      contains: "min-h-dvh"
      must_not_contain: "min-h-screen"
    - path: "web_frontend/src/pages/_error/+Page.tsx"
      provides: "Error page with dvh"
      contains: "min-h-dvh"
      must_not_contain: "min-h-screen"
    - path: "web_frontend/src/views/CourseOverview.tsx"
      provides: "Course overview with dvh"
      contains: "h-dvh"
      must_not_contain: "h-screen"
    - path: "web_frontend/src/pages/_spa/+Page.tsx"
      provides: "SPA fallback with dvh"
      contains: "min-h-dvh"
      must_not_contain: "min-h-screen"
  key_links:
    - from: "Layout components"
      to: "CSS dvh unit"
      via: "Tailwind h-dvh/min-h-dvh classes"
      pattern: "(h-dvh|min-h-dvh)"
---

<objective>
Migrate all viewport height units from vh (h-screen) to dvh (h-dvh) for proper iOS Safari support.

Purpose: Fix the iOS Safari address bar bug where content hides behind the browser chrome when using 100vh. Dynamic viewport height (dvh) adapts as the browser UI shows/hides.

Output: All full-height layouts use dvh units, eliminating iOS Safari viewport bugs.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation-typography/01-CONTEXT.md
@.planning/phases/01-foundation-typography/01-RESEARCH.md
@web_frontend/src/pages/index/+Page.tsx
@web_frontend/src/components/Layout.tsx
@web_frontend/src/views/Module.tsx
@web_frontend/src/pages/_error/+Page.tsx
@web_frontend/src/views/CourseOverview.tsx
@web_frontend/src/pages/_spa/+Page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate viewport height units to dvh</name>
  <files>
    web_frontend/src/pages/index/+Page.tsx
    web_frontend/src/components/Layout.tsx
    web_frontend/src/views/Module.tsx
    web_frontend/src/pages/_error/+Page.tsx
    web_frontend/src/views/CourseOverview.tsx
    web_frontend/src/pages/_spa/+Page.tsx
  </files>
  <action>
    Replace all h-screen and min-h-screen Tailwind classes with their dvh equivalents.

    Tailwind v4 provides built-in dvh utilities:
    - `h-screen` (100vh) -> `h-dvh` (100dvh)
    - `min-h-screen` (min-height: 100vh) -> `min-h-dvh` (min-height: 100dvh)

    Specific replacements needed:

    1. web_frontend/src/pages/index/+Page.tsx (line ~5):
       - `h-screen` -> `h-dvh`

    2. web_frontend/src/components/Layout.tsx (line ~9):
       - `min-h-screen` -> `min-h-dvh`

    3. web_frontend/src/views/Module.tsx (5 occurrences around lines 703, 712, 725, 737):
       - All `min-h-screen` -> `min-h-dvh`

    4. web_frontend/src/pages/_error/+Page.tsx (line ~3):
       - `min-h-screen` -> `min-h-dvh`

    5. web_frontend/src/views/CourseOverview.tsx (3 occurrences around lines 99, 107, 114):
       - All `h-screen` -> `h-dvh`

    6. web_frontend/src/pages/_spa/+Page.tsx (line ~19):
       - `min-h-screen` -> `min-h-dvh`

    This is a straightforward find-and-replace within className strings.
    Keep all other classes unchanged.
  </action>
  <verify>
    - `grep -r "h-screen\|min-h-screen" web_frontend/src/` returns NO matches
    - `grep -r "h-dvh" web_frontend/src/` returns matches in expected files
    - `grep -r "min-h-dvh" web_frontend/src/` returns matches in expected files
    - `npm run build` in web_frontend succeeds
    - `npm run lint` passes
  </verify>
  <done>
    All h-screen replaced with h-dvh. All min-h-screen replaced with min-h-dvh. No vh-based viewport heights remain. Build and lint pass.
  </done>
</task>

</tasks>

<verification>
After task completes:
1. `grep -rE "(h-screen|min-h-screen)" web_frontend/src/` returns empty (no matches)
2. `npm run build` succeeds in web_frontend/
3. `npm run lint` passes
4. Visual verification (optional): Open landing page in Chrome DevTools mobile emulator, toggle address bar visibility, content should not jump or hide
</verification>

<success_criteria>
- Zero occurrences of h-screen or min-h-screen in frontend source
- All full-height containers use dvh units
- No layout regressions (same visual appearance on desktop)
- Build and lint pass
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-typography/01-02-SUMMARY.md`
</output>
